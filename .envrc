# Automatically activate Python virtual environment when entering this directory
source .venv/bin/activate

# Load environment variables from .env file if it exists
if [ -f .env ]; then
  set -a  # automatically export all variables
  source .env
  set +a  # turn off automatic export
fi

# Load local development environment overrides
if [ -f .env.local ]; then
  set -a
  source .env.local
  set +a
fi

# Set project-specific environment variables
export PROJECT_ROOT=$(pwd)
export PYTHONPATH="$PROJECT_ROOT:$PYTHONPATH"

# Keep development tool caches local to project (not in global ~/.cache)
export PRE_COMMIT_HOME="$PROJECT_ROOT/.cache/pre-commit"
export RUFF_CACHE_DIR="$PROJECT_ROOT/.ruff_cache"
